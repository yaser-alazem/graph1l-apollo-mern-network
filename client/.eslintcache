[{"/home/yaser-work/Documents/projects/social-network/client/src/reportWebVitals.js":"1","/home/yaser-work/Documents/projects/social-network/client/src/App.js":"2","/home/yaser-work/Documents/projects/social-network/client/src/ApolloProvider.js":"3","/home/yaser-work/Documents/projects/social-network/client/src/index.js":"4","/home/yaser-work/Documents/projects/social-network/client/src/pages/Home.js":"5","/home/yaser-work/Documents/projects/social-network/client/src/components/Navbar.js":"6","/home/yaser-work/Documents/projects/social-network/client/src/pages/Login.js":"7","/home/yaser-work/Documents/projects/social-network/client/src/pages/Register.js":"8","/home/yaser-work/Documents/projects/social-network/client/src/components/PostCard.js":"9","/home/yaser-work/Documents/projects/social-network/client/src/utils/hooks.js":"10","/home/yaser-work/Documents/projects/social-network/client/src/context/auth.js":"11","/home/yaser-work/Documents/projects/social-network/client/src/utils/AuthRoute.js":"12","/home/yaser-work/Documents/projects/social-network/client/src/components/PostForm.js":"13","/home/yaser-work/Documents/projects/social-network/client/src/utils/GraphqlQueries.js":"14","/home/yaser-work/Documents/projects/social-network/client/src/components/LikeButton.js":"15","/home/yaser-work/Documents/projects/social-network/client/src/pages/SinglePost.js":"16","/home/yaser-work/Documents/projects/social-network/client/src/components/DeleteButton.js":"17"},{"size":362,"mtime":1607367304389,"results":"18","hashOfConfig":"19"},{"size":887,"mtime":1608879840564,"results":"20","hashOfConfig":"21"},{"size":669,"mtime":1609445460502,"results":"22","hashOfConfig":"21"},{"size":353,"mtime":1607516637212,"results":"23","hashOfConfig":"21"},{"size":1286,"mtime":1609537964020,"results":"24","hashOfConfig":"21"},{"size":2447,"mtime":1609539704337,"results":"25","hashOfConfig":"21"},{"size":2891,"mtime":1609539567374,"results":"26","hashOfConfig":"21"},{"size":3736,"mtime":1609539644560,"results":"27","hashOfConfig":"21"},{"size":1779,"mtime":1609536925898,"results":"28","hashOfConfig":"21"},{"size":399,"mtime":1608121618199,"results":"29","hashOfConfig":"21"},{"size":1527,"mtime":1608332054707,"results":"30","hashOfConfig":"21"},{"size":443,"mtime":1608332887626,"results":"31","hashOfConfig":"21"},{"size":1754,"mtime":1609539606393,"results":"32","hashOfConfig":"21"},{"size":2830,"mtime":1609534281492,"results":"33","hashOfConfig":"21"},{"size":1522,"mtime":1609536840518,"results":"34","hashOfConfig":"21"},{"size":5138,"mtime":1609536897698,"results":"35","hashOfConfig":"21"},{"size":2544,"mtime":1609179381103,"results":"36","hashOfConfig":"21"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"1iu2djg",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"evo0l9",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"78"},"/home/yaser-work/Documents/projects/social-network/client/src/reportWebVitals.js",[],["79","80"],"/home/yaser-work/Documents/projects/social-network/client/src/App.js",[],["81","82"],"/home/yaser-work/Documents/projects/social-network/client/src/ApolloProvider.js",[],["83","84"],"/home/yaser-work/Documents/projects/social-network/client/src/index.js",[],["85","86"],"/home/yaser-work/Documents/projects/social-network/client/src/pages/Home.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/components/Navbar.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/pages/Login.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/pages/Register.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/components/PostCard.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/utils/hooks.js",[],["87","88"],"/home/yaser-work/Documents/projects/social-network/client/src/context/auth.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/utils/AuthRoute.js",[],["89","90"],"/home/yaser-work/Documents/projects/social-network/client/src/components/PostForm.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/utils/GraphqlQueries.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/components/LikeButton.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/pages/SinglePost.js",[],"/home/yaser-work/Documents/projects/social-network/client/src/components/DeleteButton.js",["91"],"import React, {useState} from 'react'\nimport {useMutation} from '@apollo/react-hooks'\nimport {Button, Confirm} from 'semantic-ui-react'\n\nimport {DELETE_POST, DELETE_COMMENT, FETCH_POST,FETCH_POSTS} from '../utils/GraphqlQueries'\n\nfunction DeleteButton({postId, deletePostCB, commentId}) {\n\n    const [confirm, setConfirm] = useState(false)\n\n    const mutation = commentId ? DELETE_COMMENT : DELETE_POST\n\n    const [deletePostOrComment] = useMutation(mutation, {\n        variables: {\n            postId,\n            commentId\n        },\n        update(proxy, result){\n            //close confirm window\n            setConfirm(false)\n\n            if(!commentId) {\n                // remove post from apollo cache\n                const data = proxy.readQuery({\n                    query: FETCH_POSTS\n                })\n                let newData = [...data.getPosts]\n                newData = data.getPosts.filter(post => post.id !== postId)\n                // console.log(newData)\n\n                proxy.writeQuery({\n                    query: FETCH_POSTS,\n                    data: {\n                        ...data,\n                        getPosts: newData\n                    }\n                })\n            } else {\n\n                // TODO: REMOVE DELETED COMMENT FROM APOLLO CACHE\n\n                // // remove comment from apollo cache\n                // const data = proxy.readQuery({\n                //     query: FETCH_POST\n                // })\n                // let newData = [...data.getPost]\n                // newData = data.getPost.comments.filter(comment => comment.id !== commentId)\n                // // console.log(newData)\n\n                // proxy.writeQuery({\n                //     query: FETCH_POST,\n                //     data: {\n                //         ...data,\n                //         getPost: newData\n                //     }\n                // })\n            }\n\n            // callback redirect to homepage\n            deletePostCB && deletePostCB()\n        }\n    })\n\n    return (\n        <>\n            <Button\n                color=\"red\"\n                icon=\"close\"\n                floated=\"right\"\n                size='mini'\n                onClick={() => setConfirm(true)}\n            />\n            <Confirm\n                open={confirm}\n                content=\"You sure you want to delete it? After delete you cannot recover it again.\"\n                onCancel={() => setConfirm(false)}\n                onConfirm={deletePostOrComment}\n            />\n        </>\n    )\n}\nexport default DeleteButton",["92","93"],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"94","replacedBy":"98"},{"ruleId":"96","replacedBy":"99"},{"ruleId":"94","replacedBy":"100"},{"ruleId":"96","replacedBy":"101"},{"ruleId":"94","replacedBy":"102"},{"ruleId":"96","replacedBy":"103"},{"ruleId":"94","replacedBy":"104"},{"ruleId":"96","replacedBy":"105"},{"ruleId":"94","replacedBy":"106"},{"ruleId":"96","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":5,"column":38,"nodeType":"110","messageId":"111","endLine":5,"endColumn":48},{"ruleId":"94","replacedBy":"112"},{"ruleId":"96","replacedBy":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],["114"],["115"],["114"],["115"],["114"],["115"],["114"],["115"],["114"],["115"],"no-unused-vars","'FETCH_POST' is defined but never used.","Identifier","unusedVar",["114"],["115"],"no-global-assign","no-unsafe-negation"]